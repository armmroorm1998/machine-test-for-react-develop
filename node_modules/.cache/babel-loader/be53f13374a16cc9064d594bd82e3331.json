{"ast":null,"code":"var _jsxFileName = \"/Users/arramsibunrueang/Documents/Work/machine/src/components/BoxMachine.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport AppGrid from \"./AppGrid\";\nimport Image from \"./Image\";\nimport AppModal from \"./AppModal\";\nimport MainServices from \"../services/MainServices\";\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction BoxMachine(props) {\n  _s();\n\n  const [machineList, setMachineList] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [product, setProduct] = useState([]);\n  useEffect(() => {\n    ReadData();\n  }, []);\n\n  async function ReadData() {\n    let resp = await MainServices.getAllMachine();\n    setMachineList(resp.data);\n  }\n\n  function onCloseModal() {\n    const modalToClose = document.querySelector('.main-modal');\n    modalToClose.classList.remove('fadeIn');\n    modalToClose.classList.add('fadeOut');\n    setTimeout(() => {\n      modalToClose.style.display = 'none';\n      setShowModal(false);\n    }, 500);\n  }\n\n  async function onSubmitSellPoruct(item) {\n    let postData = {\n      'productId': item.id,\n      'totalPrice': parseInt(item.price),\n      'totalNumber': 1\n    };\n    Swal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes'\n    }).then(result => {\n      if (result.isConfirmed) {\n        MainServices.placeOrder(postData).then(resp => {\n          Swal.fire('Deleted!', 'Your file has been deleted.', 'success');\n          ReadData();\n          onCloseModal();\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    });\n  }\n\n  let galleryPost = null;\n\n  if (showModal) {\n    galleryPost = /*#__PURE__*/_jsxDEV(AppModal, {\n      product: product,\n      onSubmitSellPoruct: onSubmitSellPoruct,\n      onCloseModal: onCloseModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 23\n    }, this);\n  }\n\n  function onSelectedClick(item) {\n    setProduct(item);\n    setShowModal(true);\n  }\n\n  const MachineBox = machineList.map((data, i) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full max-w-lg mx-auto bg-indigo-100 border-2 border-indigo-400 border-opacity-50 rounded-lg overflow-hidden shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(Image, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-2 px-4\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-medium leading-6 tracking-wide text-gray-800 hover:text-blue-500 cursor-pointer\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"blog/detail\",\n            children: [\"Name: \", data.machine_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 space-y-2 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 font-normal leading-5 tracking-wide\",\n          children: [\"Address: \", data.address]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onSelectedClick(data.product);\n          },\n          type: \"button\",\n          className: \"border border-indigo-500 bg-indigo-500 text-white rounded-md px-4 py-2 transition ease-in duration-700 ease select-none hover:bg-indigo-700 focus:outline-none focus:shadow-outline\",\n          children: \"See more...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(AppGrid, {\n      grid: 3,\n      children: MachineBox\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), galleryPost]\n  }, void 0, true);\n}\n\n_s(BoxMachine, \"vZqpvC+hVFoiVMZnUPWa0zsXc+4=\");\n\n_c = BoxMachine;\nexport default BoxMachine;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoxMachine\");","map":{"version":3,"sources":["/Users/arramsibunrueang/Documents/Work/machine/src/components/BoxMachine.js"],"names":["React","useContext","useEffect","useState","AppGrid","Image","AppModal","MainServices","Swal","BoxMachine","props","machineList","setMachineList","showModal","setShowModal","product","setProduct","ReadData","resp","getAllMachine","data","onCloseModal","modalToClose","document","querySelector","classList","remove","add","setTimeout","style","display","onSubmitSellPoruct","item","postData","id","parseInt","price","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","placeOrder","catch","err","console","log","galleryPost","onSelectedClick","MachineBox","map","i","machine_name","address"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\nimport AppGrid from \"./AppGrid\";\nimport Image from \"./Image\";\nimport AppModal from \"./AppModal\";\nimport MainServices from \"../services/MainServices\";\nimport Swal from 'sweetalert2'\n\nfunction BoxMachine(props) {\n    const [machineList, setMachineList] = useState([]);\n    const [showModal, setShowModal] = useState(false);\n    const [product, setProduct] = useState([]);\n\n    useEffect(() => {\n        ReadData();\n    }, [])\n\n    async function ReadData() {\n        let resp = await MainServices.getAllMachine();\n        setMachineList(resp.data)\n    }\n\n    function onCloseModal() {\n        const modalToClose = document.querySelector('.main-modal');\n        modalToClose.classList.remove('fadeIn');\n        modalToClose.classList.add('fadeOut');\n        setTimeout(() => {\n            modalToClose.style.display = 'none';\n            setShowModal(false);\n        }, 500);\n    }\n\n    async function onSubmitSellPoruct(item) {\n        let postData = {\n            'productId': item.id,\n            'totalPrice': parseInt(item.price),\n            'totalNumber': 1\n        }\n\n        Swal.fire({\n            title: 'Are you sure?',\n            text: \"You won't be able to revert this!\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Yes'\n        }).then((result) => {\n            if (result.isConfirmed) {\n                MainServices.placeOrder(postData).then(resp => {\n                    Swal.fire(\n                        'Deleted!',\n                        'Your file has been deleted.',\n                        'success'\n                    )\n                    ReadData()\n                    onCloseModal()\n                }).catch(err => {\n                    console.log(err)\n                })\n            }\n        })\n    }\n\n    let galleryPost = null;\n    if (showModal) {\n        galleryPost = <AppModal\n            product={product}\n            onSubmitSellPoruct={onSubmitSellPoruct}\n            onCloseModal={onCloseModal}\n        />\n    }\n\n    function onSelectedClick(item) {\n        setProduct(item)\n        setShowModal(true)\n    }\n\n    const MachineBox = machineList.map((data, i) => {\n        return (\n            <div\n                key={i}\n                className=\"h-full max-w-lg mx-auto bg-indigo-100 border-2 border-indigo-400 border-opacity-50 rounded-lg overflow-hidden shadow-md\">\n                <Image/>\n\n                <div className=\"py-2 px-4\">\n                    <h1\n                        className=\"text-xl font-medium leading-6 tracking-wide text-gray-800 hover:text-blue-500 cursor-pointer\"\n                    >\n                        <a href=\"blog/detail\">Name: {data.machine_name}</a>\n                    </h1>\n                </div>\n                <div className=\"px-4 space-y-2 mb-4\">\n                    <p className=\"text-gray-600 font-normal leading-5 tracking-wide\">\n                        Address: {data.address}\n                    </p>\n\n                    <button\n                        onClick={() => {\n                            onSelectedClick(data.product)\n                        }}\n                        type=\"button\"\n                        className=\"border border-indigo-500 bg-indigo-500 text-white rounded-md px-4 py-2 transition ease-in duration-700 ease select-none hover:bg-indigo-700 focus:outline-none focus:shadow-outline\"\n                    >\n                        See more...\n                    </button>\n                </div>\n            </div>\n        )\n    })\n\n    return (\n        <>\n            <AppGrid grid={3}>\n                {MachineBox}\n            </AppGrid>\n\n            {galleryPost}\n        </>\n    );\n}\n\nexport default BoxMachine;"]},"metadata":{},"sourceType":"module"}